import React from "react";
import {withStyles} from "material-ui/styles";
import {connect} from "react-redux";
import Typography from 'material-ui/Typography';
import FullHeight from '../FullHeight';
import { translate } from 'react-i18next';
import Centered from '../Centered';
import { compose } from 'recompose';

const styles = theme => ({
    background: {
        // background: 'linear-gradient(#3523ae,#1c0446) fixed'
    },
    message: {
        color: 'white'
    }
});

class Loading extends React.Component {

    render() {
        const {nimiq, classes, t} = this.props;

        return (
            <FullHeight className={classes.background}>
                <Centered>
                    <svg fill='#F6AE2D' width="212px" height="128px" viewBox="0 0 212 128" xmlns='http://www.w3.org/2000/svg'>
                        <path d="M171.898611,65.0314243 L148.002391,116.277033 C146.317695,119.889876 142.833542,122.329506 138.862379,122.676938 L81.0319944,127.736441 C77.0608317,128.083873 73.2059734,126.286323 70.9195075,123.020911 L63.6949489,112.703172 C81.2181155,107.868619 101.406253,100.561924 122.339279,91.1515371 C140.908777,82.8002867 157.783452,73.818462 171.898611,65.0314243 Z M210.537545,15.4278484 C216.807454,29.0102732 175.034244,60.1524867 117.152072,84.978872 C59.2555038,109.801051 7.24618972,118.875293 0.953184656,105.277067 C-3.06517112,96.5922095 8.09891659,86.3329895 35.0243104,69.536237 C37.2588471,72.870882 38.4431093,74.6217662 40.9071438,78.259676 C32.452527,85.4691652 28.4162103,88.6676005 30.2910694,92.7037277 C34.7811466,102.4166 72.2115493,95.820083 113.890475,77.9514955 C155.560699,60.0713128 185.701126,37.6992829 181.199661,28.0011873 C179.330496,23.9576716 165.281657,27.5749702 154.068961,28.8124955 C152.992453,27.2544514 148.865446,21.6082508 148.066798,20.4368781 C179.050363,12.4030029 206.511491,6.73772406 210.537545,15.4278484 Z" id="Combined-Shape" fill-rule="nonzero"></path>
                        <path d="M152.775669,25.7280804 C152.763271,25.7315268 152.750872,25.7349736 152.738472,25.7384208 C153.291739,26.5202114 155.307603,29.3721309 156.897666,31.6149012 L171.556064,52.5492635 C171.709866,52.7689149 171.854999,52.9929634 171.991422,53.220923 C160.011064,62.9651195 141.152838,74.1920879 118.94811,84.1821601 C95.3967317,94.7693051 73.1588524,101.678328 57.5143836,103.88696 L42.1887243,81.9996496 C41.196683,80.571408 40.2500488,79.2025783 39.0504912,77.4783321 C39.0441565,77.482439 39.0378228,77.4865456 39.03149,77.4906517 L37.6152704,75.4680806 C35.3288043,72.2026686 34.9580991,67.9654885 36.6427958,64.352645 L61.1763299,11.7403113 C62.8610265,8.12746772 66.3451796,5.68783752 70.3163422,5.34040581 L128.146727,0.28090275 C132.117889,-0.0665289627 135.972748,1.73102095 138.259214,4.99643283 L152.775669,25.7280804 Z M141.094,22.2962147 C141.400913,22.4347329 141.756932,22.4094901 142.04123,22.229053 C142.507528,21.9331056 142.645624,21.3151839 142.349677,20.8488861 L135.010274,9.284848 C132.846447,6.19458273 129.198351,4.49344784 125.440189,4.82224439 L110.876474,6.62409243 C110.530214,6.66693222 110.231318,6.88714493 110.087791,7.20515566 C109.860597,7.70854578 110.084499,8.30080072 110.587889,8.5279941 L141.094,22.2962147 Z" id="Combined-Shape"></path>
                    </svg>
                    <Typography className={classes.message} align="center">{nimiq.message} {t('loading.syncing')} {nimiq.blockHeight}</Typography>
                </Centered>
            </FullHeight>
        );
    }
}

function mapStateToProps(state) {
    return {
        nimiq: state.nimiq
    };
}

export default compose(
    connect(mapStateToProps),
    withStyles(styles, {withTheme: true}),
    translate('translations')
)(Loading);
